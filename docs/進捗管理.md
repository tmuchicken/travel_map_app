## 要件定義ベース タスク進捗管理表 (v1)

### 1. はじめに
本ドキュメントは、「旅行経路アニメーション生成Webアプリ」開発プロジェクトにおける全タスクを要件定義書に基づいて一覧化し、各タスクの進捗状況、担当、課題、備考を明確にすることを目的とします。

### 2. 凡例
* ✅ **完了:** タスクが完了している状態。
* 🚀 **進行中:** タスクが現在進行中である状態。
* ⚠️ **未着手:** タスクがまだ開始されていない状態。
* 🔶 **部分完了/課題あり:** タスクの一部は完了しているが、課題や確認事項が残っている状態。
* N/A: 該当なし。

### 3. タスク一覧と進捗状況 (2025年5月12日現在)

| No.  | 要件定義書項目                                   | タスク内容                                                                 | 進捗   | 担当          | 課題・確認事項                                                                                                                               | 備考                                                                                                                               |
| :--- | :----------------------------------------------- | :------------------------------------------------------------------------- | :----- | :------------ | :------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------- |
| **1** | **3.1 地図表示** |                                                                            |        |               |                                                                                                                                              |                                                                                                                                    |
| 1.1  | 3.1                                              | OpenStreetMap を利用したインタラクティブマップの表示                         | ✅     | Gemini（PM兼任） |                                                                                                                                              | Leaflet.js を使用。                                                                                                                |
| 1.2  | 3.1                                              | 日本語ラベル対応                                                             | ✅     | Gemini（PM兼任） |                                                                                                                                              | OpenStreetMap および Leaflet が標準で対応。                                                                                           |
| **2** | **3.2 経路入力と移動手段設定** |                                                                            |        |               |                                                                                                                                              |                                                                                                                                    |
| 2.1  | 3.2                                              | UI統合: 経路入力と各区間の移動手段選択を同一のインターフェースで行う             | ✅     | Gemini（PM兼任） |                                                                                                                                              | `ControlPanel.tsx` にて実現。                                                                                                      |
| 2.2  | 3.2                                              | 出発地・目的地の入力 (住所または地名)                                        | ✅     | Gemini（PM兼任） |                                                                                                                                              |                                                                                                                                    |
| 2.3  | 3.2                                              | 中継地点の追加 (複数地点を経由可能)                                          | ✅     | Gemini（PM兼任） |                                                                                                                                              |                                                                                                                                    |
| 2.4  | 3.2                                              | 移動手段の選択（アイコン付き）: バス,飛行機,電車,車,船,徒歩                       | ✅     | Gemini（PM兼任） |                                                                                                                                              |                                                                                                                                    |
| 2.5  | 3.2                                              | 入力補完（サジェスト）機能                                                     | ⚠️     | Gemini（PM兼任） | Nominatim API等を利用した実装方法の調査・選定、UI/UX設計が必要。                                                                                | ジオコーディング自体は実装済み。                                                                                                       |
| **3** | **3.4 アニメーション再生** |                                                                            |        |               |                                                                                                                                              |                                                                                                                                    |
| 3.1  | 3.4                                              | UI配置: アニメーション操作パネルを地図表示エリアの近くに配置                     | ✅     | Gemini（PM兼任） |                                                                                                                                              | `AnimationControls.tsx` を地図下部に配置。                                                                                           |
| 3.2  | 3.4                                              | 出発地と目的地にピン刺しをして、地名を表示                                     | ✅     | Gemini（PM兼任） |                                                                                                                                              | `Map.tsx` にてマーカーとポップアップで表示。                                                                                           |
| 3.3  | 3.4                                              | 経路上をアイコンがアニメーションで移動                                         | ✅     | Gemini（PM兼任） |                                                                                                                                              |                                                                                                                                    |
| 3.4  | 3.4                                              | 陸上交通（バス、車、徒歩など）は、実際の道路網に基づいた経路でアニメーション表示 | 🔶     | Gemini（PM兼任） | **徒歩**: 現在直線描画。要件定義書では道路網ベース。OSRM利用に戻すか、直線で良いか要確認。                                                           | バス・車はOSRM利用。                                                                                                                 |
| 3.5  | 3.4                                              | 飛行機や船など、直線/曲線でアニメーション表示                                  | 🔶     | Gemini（PM兼任） | **船**: 現在OSRM利用。要件定義書では直線/曲線。直線またはシンプルな曲線ロジックに変更要。                                                          | 飛行機は直線描画。                                                                                                                   |
| 3.6  | 3.4                                              | アニメーション速度の調整（スライダー形式）                                     | ✅     | Gemini（PM兼任） | スライダーではなく、区間移動時間を秒数で直接入力する形式で実装済み。要件との整合性確認（スライダー形式が必須か）。                               |                                                                                                                                    |
| 3.7  | 3.4                                              | 地図の自動スクロール・ズームイン                                               | 🔶     | Gemini（PM兼任） | 自動スクロール（`panTo`）は実装済み。自動ズームは、全体の経路表示時の`fitBounds`のみ。アニメーション中の動的なズーム調整は未実装。                 |                                                                                                                                    |
| **4** | **3.5 出力機能** |                                                                            |        |               |                                                                                                                                              |                                                                                                                                    |
| 4.1  | 3.5                                              | 再生中アニメーションの録画（動画ファイルとしてエクスポート、MP4、最大4K目標）      | ⚠️     | Gemini（PM兼任） | `MediaRecorder API` の調査・実装。4K対応の技術検証、パフォーマンス検証、ブラウザ互換性確認が必要。                                               | `AnimationControls.tsx` にボタンのみ配置。                                                                                           |
| 4.2  | 3.5                                              | 画像としてスクリーンショット保存                                                 | ⚠️     | Gemini（PM兼任） | `html2canvas` 等のライブラリ調査・実装。                                                                                                 | ボタンのみ配置。                                                                                                                     |
| 4.3  | 3.5                                              | SNS向けの共有機能（MP4、GIF形式）                                            | ⚠️     | Gemini（PM兼任） | GIF生成方法の調査・実装（`gif.js`, `ffmpeg.wasm`等）。Web Share API等の簡易共有機能の検討。                                                   | ボタンのみ配置。                                                                                                                     |
| **5** | **3.6 ユーザーインターフェース** |                                                                            |        |               |                                                                                                                                              |                                                                                                                                    |
| 5.1  | 3.6                                              | 日本語UI（全項目）                                                           | ✅     | Gemini（PM兼任） |                                                                                                                                              |                                                                                                                                    |
| 5.2  | 3.6                                              | モバイル対応（レスポンシブデザイン）                                           | ✅     | Gemini（PM兼任） | Tailwind CSSにより基本的なレスポンシブ対応済み。各画面サイズでの詳細な表示確認・調整は継続。                                             |                                                                                                                                    |
| 5.3  | 3.6                                              | ダークモード切替機能                                                         | ✅     | Gemini（PM兼任） |                                                                                                                                              |                                                                                                                                    |
| **6** | **3.7 保存・読み込み機能** |                                                                            |        |               |                                                                                                                                              |                                                                                                                                    |
| 6.1  | 3.7                                              | プロジェクトのローカルストレージへの一時保存と再編集                             | ✅     | Gemini（PM兼任） |                                                                                                                                              |                                                                                                                                    |
| **7** | **4. 非機能要件** |                                                                            |        |               |                                                                                                                                              |                                                                                                                                    |
| 7.1  | 4                                                | 対応ブラウザ：Chrome、Safari、Edge、Firefox（最新バージョン）                    | 🚀     | Gemini（PM兼任） | 現在Chromeを中心に開発。各フェーズ完了時および最終テスト時に他ブラウザでの動作検証を実施。                                                       |                                                                                                                                    |
| 7.2  | 4                                                | フロントエンド：React または Vue.js（SPA構成）                                 | ✅     | Gemini（PM兼任） | React (Next.js) を採用。                                                                                                                     |                                                                                                                                    |
| 7.3  | 4                                                | 地図API：Leaflet.js + OpenStreetMap                                        | ✅     | Gemini（PM兼任） |                                                                                                                                              |                                                                                                                                    |
| 7.4  | 4                                                | 経路検索・ジオコーディング: OSRM, Nominatim                                  | ✅     | Gemini（PM兼任） | OSRMデモサーバーとNominatimの利用規約に関する注意喚起を実装済み。                                                                        |                                                                                                                                    |
| 7.5  | 4                                                | ホスティング：Vercel                                                         | ⚠️     | Gemini（PM兼任） | デプロイフェーズで実施。                                                                                                                         |                                                                                                                                    |
| 7.6  | 4                                                | APIキー秘匿化等（必要な場合）                                                  | N/A    | Gemini（PM兼任） | 現状クライアントサイドで完結するAPIのみ利用のため該当なし。将来的にサーバーサイド処理を導入する場合は検討。                                        |                                                                                                                                    |
| **8** | **5. 管理機能（将来的に検討）** |                                                                            |        |               |                                                                                                                                              |                                                                                                                                    |
| 8.1  | 5                                                | テンプレート保存・公開機能                                                     | ⚠️     | Gemini（PM兼任） | 将来検討事項。                                                                                                                               |                                                                                                                                    |
| 8.2  | 5                                                | 利用履歴管理                                                                 | ⚠️     | Gemini（PM兼任） | 将来検討事項。                                                                                                                               |                                                                                                                                    |
| **9** | **6. 制約事項への対応** |                                                                            |        |               |                                                                                                                                              |                                                                                                                                    |
| 9.1  | 6                                                | Google Maps API使用時の課金制に注意                                          | N/A    | Gemini（PM兼任） | OpenStreetMap利用のため、現時点では該当なし。                                                                                                  |                                                                                                                                    |
| 9.2  | 6                                                | 録画機能のブラウザベース制限、高画質録画の課題認識                               | 🚀     | Gemini（PM兼任） | 出力機能実装時に、MediaRecorder APIの制約を考慮し、ユーザーへの注意喚起表示などを検討・実装。                                                    |                                                                                                                                    |
| 9.3  | 6                                                | 無料の経路検索APIやジオコーディングサービスの利用規約遵守                        | 🚀     | Gemini（PM兼任） | Nominatim, OSRMデモサーバーの利用規約を遵守。ユーザーへの注意喚起は実装済み。リクエスト頻度制限等に抵触しないよう、継続的に監視・必要に応じて対策。 |                                                                                                                                    |
| 9.4  | 6                                                | 4K動画出力時のファイルサイズ等の課題認識                                       | 🚀     | Gemini（PM兼任） | 出力機能実装時に、ファイルサイズ、処理時間、ユーザーのストレージ容量への影響を考慮し、適切な情報提供とオプション設定を検討・実装。                   |                                                                                                                                    |